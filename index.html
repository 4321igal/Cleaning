<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>× ×§×™ & ×—×“"×¤ â€” ×—× ×•×ª ××•× ×œ×™×™×Ÿ</title>
  <style>
    :root{
      --fg:#111827;--muted:#6b7280;--bg:#ffffff;--card:#ffffff;--line:#e5e7eb;--accent:#2563eb;--accent-weak:#dbeafe;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Noto Sans",Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";color:var(--fg);background:var(--bg)}
    a{color:inherit}
    .container{max-width:1200px;margin:0 auto;padding:16px}
    header{position:sticky;top:0;z-index:10;background:rgba(255,255,255,.85);backdrop-filter:saturate(1.2) blur(8px);border-bottom:1px solid var(--line)}
    .row{display:flex;gap:12px;align-items:center}
    .space-between{justify-content:space-between}
    .brand{gap:10px}
    .brand .logo{width:40px;height:40px;border-radius:12px;display:grid;place-items:center;background:#f3f4f6}
    .brand h1{margin:0;font-size:18px}
    .brand p{margin:0;color:var(--muted);font-size:12px}
    input[type="search"], select{border:1px solid var(--line);padding:10px 12px;border-radius:10px;background:#fff;width:100%}
    button{cursor:pointer;border:0;border-radius:10px;background:var(--accent);color:#fff;padding:10px 14px;font-weight:600}
    button.ghost{background:transparent;color:var(--fg);border:1px solid var(--line)}
    button.icon{display:grid;place-items:center;padding:8px 10px}
    .badge{display:inline-block;background:#11182710;color:#111827;border-radius:999px;padding:2px 8px;font-size:12px}
    .toolbar{display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between;margin:14px 0}
    .filters{display:flex;flex-wrap:wrap;gap:8px}
    .chip{border:1px solid var(--line);padding:8px 12px;border-radius:999px;background:#fff;cursor:pointer}
    .chip.active{background:var(--accent);color:#fff;border-color:var(--accent)}

    .grid{display:grid;gap:16px;grid-template-columns:repeat(1,minmax(0,1fr))}
    @media(min-width:640px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(min-width:900px){.grid{grid-template-columns:repeat(3,1fr)}}
    @media(min-width:1150px){.grid{grid-template-columns:repeat(4,1fr)}}

    .card{background:var(--card);border:1px solid var(--line);border-radius:16px;overflow:hidden;display:flex;flex-direction:column}
    .thumb{aspect-ratio:4/3;background:#f3f4f6;overflow:hidden}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .card .body{padding:12px}
    .title{font-weight:700;margin:0 0 4px 0;font-size:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
    .meta{color:var(--muted);font-size:12px}
    .price{font-weight:800}

    footer{border-top:1px solid var(--line);margin-top:24px}
    footer .container{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;color:var(--muted)}

    /* Cart panel */
    .overlay{position:fixed;inset:0;background:#0006;opacity:0;pointer-events:none;transition:.2s}
    .overlay.show{opacity:1;pointer-events:auto}
    .cart{position:fixed;top:0;bottom:0;left:0;width:min(480px,100%);background:#fff;border-left:1px solid var(--line);transform:translateX(-102%);transition:.25s;display:flex;flex-direction:column}
    .cart.show{transform:translateX(0)}
    .cart header{position:sticky;top:0}
    .cart .content{padding:14px;overflow:auto;flex:1;display:flex;flex-direction:column;gap:14px}
    .cart .item{display:flex;gap:10px;align-items:center}
    .cart .item img{width:64px;height:64px;border-radius:10px;object-fit:cover}
    .qty{display:flex;gap:6px;align-items:center}
    .qty button{padding:6px 10px}
    .totals{display:flex;justify-content:space-between;align-items:center;font-weight:700;border-top:1px solid var(--line);padding-top:10px}
    .muted{color:var(--muted)}
  </style>
</head>
<body>
  <header>
    <div class="container row space-between">
      <div class="row brand">
        <div class="logo">ğŸ§¼</div>
        <div>
          <h1>× ×§×™ & ×—×“"×¤</h1>
          <p>×—× ×•×ª ××•× ×œ×™×™×Ÿ ×œ××•×¦×¨×™ ×—×“-×¤×¢××™ ×•×—×•××¨×™ × ×™×§×•×™</p>
        </div>
      </div>
      <div class="row" style="gap:8px;flex:1;max-width:680px">
        <input id="search" type="search" placeholder="×—×™×¤×•×© ××•×¦×¨â€¦" />
        <button id="openCart" class="row icon" title="×¢×’×œ×”"><span>ğŸ›’</span><span class="badge" id="cartCount">0</span></button>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="toolbar">
      <div class="filters" id="catFilters"></div>
      <div class="row" style="gap:8px">
        <label class="muted" for="sort">××™×•×Ÿ:</label>
        <select id="sort">
          <option value="popular">××•××œ×¦×™×</option>
          <option value="price_asc">××—×™×¨: × ××•×š â† ×’×‘×•×”</option>
          <option value="price_desc">××—×™×¨: ×’×‘×•×” â† × ××•×š</option>
          <option value="name">×©× ××•×¦×¨</option>
        </select>
      </div>
    </div>

    <div id="grid" class="grid"></div>
  </main>

  <footer>
    <div class="container">
      <p>Â© <span id="year"></span> × ×§×™ & ×—×“"×¤ â€” ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª.</p>
      <nav class="row" style="gap:12px">
        <a href="#">×ª×§× ×•×Ÿ</a>
        <a href="#">××“×™× ×™×•×ª ××©×œ×•×—×™× ×•×”×—×–×¨×•×ª</a>
        <a href="#">×¦×•×¨ ×§×©×¨</a>
      </nav>
    </div>
  </footer>

  <!-- Cart side panel -->
  <div id="overlay" class="overlay"></div>
  <aside id="cart" class="cart" aria-hidden="true">
    <header>
      <div class="container row space-between" style="padding:12px 16px">
        <strong>×”×¢×’×œ×” ×©×œ×™</strong>
        <button id="closeCart" class="ghost">×¡×’×•×¨</button>
      </div>
    </header>
    <div class="content" id="cartItems">
      <!-- Items injected here -->
    </div>
    <div class="container" style="padding-bottom:14px">
      <div class="totals"><span>×¡×š ×”×›×œ:</span><span id="cartTotal">â‚ª0.00</span></div>
      <div class="row" style="margin-top:12px;gap:8px">
        <button id="checkout" style="flex:1">×ª×©×œ×•× ×•×”×–×× ×”</button>
        <button id="clearCart" class="ghost">× ×™×§×•×™ ×¢×’×œ×”</button>
      </div>
    </div>
  </aside>

  <script>
    const PRODUCTS = [
      { id:"p1", name:"×¦×œ×—×•×ª ×—×“-×¤×¢××™×•×ª 9\" (50 ×™×—)", price:12.9, category:"×—×“-×¤×¢××™", image:"https://picsum.photos/seed/plates/640/480", unit:"×—×‘×™×œ×”" },
      { id:"p2", name:"×›×•×¡×•×ª ×¤×œ×¡×˜×™×§ 200 ××³×œ (100 ×™×—)", price:17.9, category:"×—×“-×¤×¢××™", image:"https://picsum.photos/seed/cups/640/480", unit:"×—×‘×™×œ×”" },
      { id:"p3", name:"×¡×›×•"+"×³"+"× ×¤×œ×¡×˜×™×§ ××¢×•×¨×‘ (100 ×™×—)", price:22.0, category:"×—×“-×¤×¢××™", image:"https://picsum.photos/seed/cutlery/640/480", unit:"×—×‘×™×œ×”" },
      { id:"p4", name:"××¤×•×ª ×©×•×œ×—×Ÿ ×—×“-×¤×¢××™×•×ª (10 ×™×—)", price:19.5, category:"×—×“-×¤×¢××™", image:"https://picsum.photos/seed/tablecloth/640/480", unit:"×’×œ×™×œ" },
      { id:"p5", name:"××¤×™×•×ª × ×™×™×¨ ×¤×¨×™××™×•× (100 ×™×—)", price:9.9, category:"×—×“-×¤×¢××™", image:"https://picsum.photos/seed/napkins/640/480", unit:"×—×‘×™×œ×”" },
      { id:"c1", name:"××§×•× ×•××™×§×” ×¨×™×—× ×™×ª 4 ×œ×™×˜×¨", price:15.9, category:"× ×™×§×•×™", image:"https://picsum.photos/seed/bleach/640/480", unit:"×‘×§×‘×•×§" },
      { id:"c2", name:"× ×•×–×œ ×¨×¦×¤×•×ª ×œ×™××•×Ÿ 4 ×œ×™×˜×¨", price:18.5, category:"× ×™×§×•×™", image:"https://picsum.photos/seed/floor/640/480", unit:"×‘×§×‘×•×§" },
      { id:"c3", name:"×¡×¤×¨×™×™ ××¡×™×¨×™ ×©×•×× ×™×", price:12.0, category:"× ×™×§×•×™", image:"https://picsum.photos/seed/degreaser/640/480", unit:"×‘×§×‘×•×§" },
      { id:"c4", name:"×›×œ×™× ×œ× ×™×§×•×™: ×¡×§×•×˜×© + ×¡×¤×•×’ (5 ×™×—)", price:8.9, category:"× ×™×§×•×™", image:"https://picsum.photos/seed/sponges/640/480", unit:"×¡×˜" },
      { id:"c5", name:"×¡×‘×•×Ÿ ×›×œ×™× ××¨×•×›×– 1 ×œ×™×˜×¨", price:9.5, category:"× ×™×§×•×™", image:"https://picsum.photos/seed/dishsoap/640/480", unit:"×‘×§×‘×•×§" },
      { id:"c6", name:"× ×™×™×¨ ×¡×•×¤×’ ××’×‘×•× ×™× (3 ×’×œ×™×œ×™×)", price:11.9, category:"× ×™×§×•×™", image:"https://picsum.photos/seed/towel/640/480", unit:"×—×‘×™×œ×”" }
    ];

    const CATEGORIES = [ {key:"all",label:"×”×›×œ"}, {key:"×—×“-×¤×¢××™",label:"×—×“-×¤×¢××™"}, {key:"× ×™×§×•×™",label:"×—×•××¨×™ × ×™×§×•×™"} ];

    const state = { query:"", category:"all", sort:"popular", cart:loadCart() };

    const $ = (s,scope=document)=>scope.querySelector(s);
    const $$ = (s,scope=document)=>Array.from(scope.querySelectorAll(s));

    const grid = $("#grid");
    const search = $("#search");
    const sort = $("#sort");
    const catFilters = $("#catFilters");
    const cartBtn = $("#openCart");
    const cartPanel = $("#cart");
    const overlay = $("#overlay");
    const closeCart = $("#closeCart");
    const cartItems = $("#cartItems");
    const cartCount = $("#cartCount");
    const cartTotal = $("#cartTotal");

    document.getElementById("year").textContent = new Date().getFullYear();

    // Build category chips
    function renderCatFilters(){
      catFilters.innerHTML = CATEGORIES.map(c=>`<button class="chip ${state.category===c.key?'active':''}" data-key="${c.key}">${c.label}</button>`).join("");
      $$(".chip",catFilters).forEach(b=>b.addEventListener("click",()=>{state.category=b.dataset.key;render();}));
    }

    function formatPrice(n){return `â‚ª${n.toFixed(2)}`}

    function filtered(){
      let list = PRODUCTS.filter(p=> (state.category==='all'||p.category===state.category) && (state.query===''||p.name.toLowerCase().includes(state.query.toLowerCase())) );
      switch(state.sort){
        case 'price_asc': list = list.slice().sort((a,b)=>a.price-b.price); break;
        case 'price_desc': list = list.slice().sort((a,b)=>b.price-a.price); break;
        case 'name': list = list.slice().sort((a,b)=>a.name.localeCompare(b.name,'he')); break;
      }
      return list;
    }

    function renderGrid(){
      const list = filtered();
      if(!list.length){ grid.innerHTML = `<p class="muted">×œ× × ××¦××• ××•×¦×¨×™× ×ª×•×××™×.</p>`; return; }
      grid.innerHTML = list.map(p=>`
        <article class="card">
          <div class="thumb"><img src="${p.image}" alt="${p.name}" loading="lazy"></div>
          <div class="body">
            <div class="row space-between" style="align-items:flex-start">
              <div style="min-width:0">
                <h3 class="title" title="${p.name}">${p.name}</h3>
                <div class="meta">×™×—×™×“×”: ${p.unit} Â· ×§×˜×’×•×¨×™×”: ${p.category}</div>
              </div>
              <div class="price">${formatPrice(p.price)}</div>
            </div>
            <button data-add="${p.id}" style="width:100%;margin-top:8px">×”×•×¡×£ ×œ×¢×’×œ×”</button>
          </div>
        </article>
      `).join("");
      $$('button[data-add]').forEach(btn=>btn.addEventListener('click',()=>addToCart(btn.dataset.add)));
    }

    function addToCart(id){
      state.cart[id] = { qty:(state.cart[id]?.qty||0)+1 };
      saveCart();
      renderCart();
    }

    function decFromCart(id){
      const e = state.cart[id];
      if(!e) return; const q = e.qty-1; if(q>0) state.cart[id].qty=q; else delete state.cart[id];
      saveCart(); renderCart();
    }

    function removeFromCart(id){ delete state.cart[id]; saveCart(); renderCart(); }

    function renderCart(){
      const entries = Object.entries(state.cart);
      const count = entries.reduce((a,[,v])=>a+v.qty,0);
      const total = entries.reduce((s,[id,v])=>{const p=PRODUCTS.find(x=>x.id===id);return s+(p?p.price:0)*v.qty},0);
      cartCount.textContent = count;
      cartTotal.textContent = formatPrice(total);

      if(!entries.length){ cartItems.innerHTML = `<p class="muted">×”×¢×’×œ×” ×¨×™×§×”. ×”×•×¡×™×¤×• ××•×¦×¨×™× ×›×“×™ ×œ×”×ª×—×™×œ.</p>`; return; }
      cartItems.innerHTML = entries.map(([id,v])=>{
        const p = PRODUCTS.find(x=>x.id===id); if(!p) return '';
        return `
          <div class="item">
            <img src="${p.image}" alt="${p.name}">
            <div style="flex:1;min-width:0">
              <div class="row space-between">
                <strong style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis" title="${p.name}">${p.name}</strong>
                <button class="ghost icon" data-remove="${id}">ğŸ—‘ï¸</button>
              </div>
              <div class="row space-between" style="margin-top:6px">
                <span class="muted">${formatPrice(p.price)}</span>
                <div class="qty">
                  <button class="ghost" data-dec="${id}">âˆ’</button>
                  <span style="width:28px;text-align:center">${v.qty}</span>
                  <button data-add="${id}">+</button>
                </div>
              </div>
            </div>
          </div>`;
      }).join('');

      $$('button[data-remove]',cartItems).forEach(b=>b.addEventListener('click',()=>removeFromCart(b.dataset.remove)));
      $$('button[data-dec]',cartItems).forEach(b=>b.addEventListener('click',()=>decFromCart(b.dataset.dec)));
      $$('button[data-add]',cartItems).forEach(b=>b.addEventListener('click',()=>addToCart(b.dataset.add)));
    }

    function openCart(){ overlay.classList.add('show'); cartPanel.classList.add('show'); cartPanel.setAttribute('aria-hidden','false'); }
    function closeCartPanel(){ overlay.classList.remove('show'); cartPanel.classList.remove('show'); cartPanel.setAttribute('aria-hidden','true'); }

    function render(){ renderCatFilters(); renderGrid(); renderCart(); }

    search.addEventListener('input',()=>{state.query=search.value.trim(); renderGrid();});
    sort.addEventListener('change',()=>{state.sort=sort.value; renderGrid();});

    cartBtn.addEventListener('click',openCart);
    overlay.addEventListener('click',closeCartPanel);
    closeCart.addEventListener('click',closeCartPanel);

    document.getElementById('checkout').addEventListener('click',()=>{
      alert('×“××•: ×›××Ÿ × ×—×‘×¨ ×ª×©×œ×•× ××•× ×œ×™×™×Ÿ (Stripe/Tranzila/Isracard) ×•×”×¤×§×ª ×”×–×× ×”.');
    });
    document.getElementById('clearCart').addEventListener('click',()=>{ state.cart={}; saveCart(); renderCart(); });

    function saveCart(){ localStorage.setItem('cart_disposable_cleaning_html', JSON.stringify(state.cart)); }
    function loadCart(){ try{ return JSON.parse(localStorage.getItem('cart_disposable_cleaning_html'))||{} }catch{ return {} } }

    // init
    render();
  </script>
</body>
</html>
